{"version":3,"sources":["../../models/users_tokens.js"],"names":["module","exports","sequelize","DataTypes","users_tokens","define","id","allowNull","autoIncrement","primaryKey","type","BIGINT","current","TEXT","next","createdAt","DATE","defaultValue","literal","updatedAt","associate","models","belongsTo","users","onDelete","foreignKey"],"mappings":"AAAA;;AAEA;;;;AAGAA,OAAOC,OAAP,GAAiB,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AACvC,QAAMC,eAAeF,UAAUG,MAAV,CAAiB,cAAjB,EAAiC;AAClDC,YAAI;AACAC,uBAAW,KADX;AAEAC,2BAAe,IAFf;AAGAC,wBAAY,IAHZ;AAIAC,kBAAMP,UAAUQ;AAJhB,SAD8C;AAOlDC,iBAAU,EAAE;AACRF,kBAAOP,UAAUU;AADX,SAPwC;AAUlDC,cAAO,EAAE;AACLJ,kBAAMP,UAAUU;AADb,SAV2C;AAalDE,mBAAW;AACPL,kBAAMP,UAAUa,IADT;AAEPC,0BAAcf,UAAUgB,OAAV,CAAkB,OAAlB;AAFP,SAbuC;AAiBlDC,mBAAW;AACPT,kBAAMP,UAAUa,IADT;AAEPC,0BAAcf,UAAUgB,OAAV,CAAkB,OAAlB;AAFP;AAjBuC,KAAjC,CAArB;;AAuBAd,iBAAagB,SAAb,GAAyB,UAAUC,MAAV,EAAkB;AACvCjB,qBAAakB,SAAb,CAAuBD,OAAOE,KAA9B,EAAqC;AACjCC,sBAAU,SADuB;AAEjCC,wBAAY;AACRlB,2BAAW;AADH,aAFqB;AAKjCU,0BAAe;AALkB,SAArC;AAOH,KARD;;AAUA,WAAOb,YAAP;AACH,CAnCD","file":"users_tokens.js","sourcesContent":["'use strict';\n\n/*\n * entidade para um futuro refresh token.\n * */\nmodule.exports = (sequelize, DataTypes) => {\n    const users_tokens = sequelize.define('users_tokens', {\n        id: {\n            allowNull: false,\n            autoIncrement: true,\n            primaryKey: true,\n            type: DataTypes.BIGINT\n        },\n        current : { //token atual\n            type : DataTypes.TEXT\n        },\n        next : { //md5 gerado para gerar o proximo token e expirar o atual.\n            type: DataTypes.TEXT\n        },\n        createdAt: {\n            type: DataTypes.DATE,\n            defaultValue: sequelize.literal('NOW()')\n        },\n        updatedAt: {\n            type: DataTypes.DATE,\n            defaultValue: sequelize.literal('NOW()')\n        }\n    });\n\n    users_tokens.associate = function (models) {\n        users_tokens.belongsTo(models.users, {\n            onDelete: \"CASCADE\",\n            foreignKey: {\n                allowNull: true\n            },\n            defaultValue : null\n        });\n    };\n\n    return users_tokens;\n};\n"]}